<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>Select distinct &mdash; Tuhalang</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/components/collection.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/globals/common.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/css/posts/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mzlogin/rouge-themes@master/dist/github.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/vendor/share.js/dist/css/share.min.css"><link rel="canonical" href="https://tuhalang.github.io/2020/06/02/Select-Distinct/"><link rel="alternate" type="application/atom+xml" title="Tuhalang" href="https://tuhalang.github.io/feed.xml"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/favicon.ico"><meta property="og:title" content="Select distinct"><meta name="keywords" content="Database, Oracle"><meta name="og:keywords" content="Database, Oracle"><meta name="description" content="Tóm tắt: Trong bài viết này chúng ta sẽ cùng tìm hiểu về cách để truy vấn lấy ra dữ liệu không bị trùng lặp sử dụng SELECT DISTINCT"><meta name="og:description" content="Tóm tắt: Trong bài viết này chúng ta sẽ cùng tìm hiểu về cách để truy vấn lấy ra dữ liệu không bị trùng lặp sử dụng SELECT DISTINCT"><meta property="og:url" content="https://tuhalang.github.io/2020/06/02/Select-Distinct/"><meta property="og:site_name" content="Tuhalang"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2020-06-02"> <script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/js/jquery-ui.js"></script> <script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/js/main.js"></script> <script data-ad-client="ca-pub-7093222719567591" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161740789-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-161740789-1'); </script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://tuhalang.github.io/" title="Tuhalang"><span class="octicon octicon-mark-github"></span> Tuhalang</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://tuhalang.github.io/" class=" site-header-nav-item" target="" title="Home">Home</a> <a href="https://tuhalang.github.io/categories/" class=" site-header-nav-item" target="" title="Categories">Categories</a> <a href="https://tuhalang.github.io/archives/" class=" site-header-nav-item" target="" title="Archives">Archives</a> <a href="https://tuhalang.github.io/wiki/" class=" site-header-nav-item" target="" title="Wiki">Wiki</a> <a href="https://tuhalang.github.io/about/" class=" site-header-nav-item" target="" title="About">About</a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="Select distinct"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">Select distinct</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2020/06/02 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://tuhalang.github.io/categories/#Oracle" title="Oracle">Oracle</a> </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://tuhalang.github.io/categories/#Database" title="Database">Database</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> Common 1798 words，about 6 minutes </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><p><strong>Tóm tắt:</strong> Trong bài viết này chúng ta sẽ cùng tìm hiểu về cách để truy vấn lấy ra dữ liệu không bị trùng lặp sử dụng <strong><em>SELECT DISTINCT</em></strong></p><h4 id="1-tóm-tắt-lý-thuyết">1. Tóm tắt lý thuyết</h4><ul><li>DISTINCT được sử dụng trong câu lệnh SELECT dùng để lọc các giá trị trùng nhau trong kết quả truy vấn. Điều này đảm bảo rằng các giá trị trả về là duy nhất</li><li>Cú pháp của SELECT DISTINCT sẽ như sau:</li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">column_1</span> <span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>
</code></pre></div></div><ul><li><p>Trong câu truy vấn này dữ liệu trong cột column_1 sẽ được so sánh để lọc bỏ giá trị trùng.</p></li><li><p>Bạn cũng có thể SELECT DISTINCT trên nhiều cột:</p></li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span> 
    <span class="n">column_1</span><span class="p">,</span>
    <span class="n">column_2</span><span class="p">,</span>
    <span class="n">column_3</span>
<span class="k">FROM</span> <span class="k">table_name</span><span class="p">;</span>
</code></pre></div></div><ul><li>Khi đó dữ liệu trong cả ba cột <em>column_1</em>, <em>column_2</em>, <em>column_3</em> sẽ được kết hợp và so sánh để lọc bỏ giá trị trùng. Điều đó có nghĩa là 2 bản ghi được xem là trùng lặp khi và chỉ khi cả 3 cột <em>column_1</em>, <em>column_2</em> và <em>column_3</em> có giá trị giống nhau.</li></ul><h4 id="2-ví-dụ">2. Ví dụ</h4><h5 id="a-select-distinct-trên-một-cột">a) SELECT DISTINCT trên một cột</h5><ul><li>Chúng ta hãy xem xét bảng <strong>contacts</strong></li></ul><table><thead><tr><th>CONTACTS</th></tr></thead><tbody><tr><td>CONTACT_ID</td></tr><tr><td>FIRST_NAME</td></tr><tr><td>LAST_NAME</td></tr><tr><td>EMAIL</td></tr><tr><td>PHONE</td></tr><tr><td>CUSTOMER_ID</td></tr></tbody></table><ul><li>Câu truy vấn sau sẽ lấy ra tất cả các first_name</li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span>
    <span class="n">first_name</span>
<span class="k">FROM</span>
    <span class="n">contacts</span>
<span class="k">ORDER</span> <span class="k">BY</span>
    <span class="n">first_name</span><span class="p">;</span>
</code></pre></div></div><ul><li>Khi đó sẽ được kết quả 319 bản ghi</li></ul><p><img src="https://tuhalang.github.io/assets/images/select_non_distinct.png" alt="anh" /></p><ul><li>Còn khi thực hiện SELECT DISTINCT</li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span>
    <span class="n">first_name</span>
<span class="k">FROM</span>
    <span class="n">contacts</span>
<span class="k">ORDER</span> <span class="k">BY</span>
    <span class="n">first_name</span><span class="p">;</span>
</code></pre></div></div><ul><li>Sẽ được kết quả sau với 302 bản ghi có nghĩa là đã có 17 bản ghi bị trùng lặp đã bị loại bỏ</li></ul><p><img src="https://tuhalang.github.io/assets/images/select_distinct.png" alt="anh" /></p><h5 id="a-select-distinct-trên-nhiều-cột">a) SELECT DISTINCT trên nhiều cột</h5><ul><li>Chúng ta hãy xem xét bảng <strong>order_items</strong></li></ul><table><thead><tr><th>ORDER_ITEMS</th></tr></thead><tbody><tr><td>ITEM_ID</td></tr><tr><td>PRODUCT_ID</td></tr><tr><td>QUANTITY</td></tr><tr><td>UNIT_PRICE</td></tr></tbody></table><ul><li><p>Chúng ta sẽ lấy giá trị của <em>product_id</em> và <em>quantity</em></p></li><li><p>Truy vấn không distinct:</p></li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span>
    <span class="n">product_id</span><span class="p">,</span>
    <span class="n">quantity</span>
<span class="k">FROM</span> 
    <span class="n">ORDER_ITEMS</span>
<span class="k">ORDER</span> <span class="k">BY</span> 
    <span class="n">product_id</span><span class="p">;</span>
</code></pre></div></div><ul><li>Kết quả sẽ được 665 bản ghi:</li></ul><p><img src="https://tuhalang.github.io/assets/images/select_two_col_non_distinct.png" alt="anh" /></p><ul><li>Truy vấn sử dụng distinct:</li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span>
    <span class="n">product_id</span><span class="p">,</span>
    <span class="n">quantity</span>
<span class="k">FROM</span>
    <span class="n">order_items</span>
<span class="k">ORDER</span> <span class="k">BY</span>
    <span class="n">product_id</span><span class="p">;</span>
</code></pre></div></div><ul><li>Kết quả sẽ được 657 bản ghi:</li></ul><p><img src="https://tuhalang.github.io/assets/images/select_two_col_distinct.png" alt="anh" /></p><h5 id="c-select-distinct-với-giá-trị-null">c) SELECT DISTINCT với giá trị NULL</h5><ul><li><p>Nếu sử dụng SELECT DISTINCT để truy vấn từ cột mà có nhiều giá trị NULL thì kết quả sẽ chỉ bao gồm một giá trị NULL duy nhất.</p></li><li><p>Chúng ta hãy xem bảng <strong>locations</strong>:</p></li></ul><table><thead><tr><th>LOCATIONS</th></tr></thead><tbody><tr><td>LOCATION_ID</td></tr><tr><td>ADDRESS</td></tr><tr><td>POSTAL_CODE</td></tr><tr><td>CITY</td></tr><tr><td>STATE</td></tr><tr><td>COUNTRY_ID</td></tr></tbody></table><ul><li>Truy vấn lấy state không distinct</li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> 
    <span class="k">state</span> 
<span class="k">FROM</span> 
    <span class="n">locations</span> 
<span class="k">ORDER</span> <span class="k">BY</span> 
    <span class="k">state</span> <span class="n">NULLS</span> <span class="k">FIRST</span><span class="p">;</span>
</code></pre></div></div><ul><li>Ta sẽ được kết quả:</li></ul><p><img src="https://tuhalang.github.io/assets/images/select_null_non_distinct.png" alt="anh" /></p><ul><li>Truy vấn lấy state sử dụng distinct</li></ul><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span>
    <span class="k">state</span> 
<span class="k">FROM</span> 
    <span class="n">locations</span> 
<span class="k">ORDER</span> <span class="k">BY</span> 
    <span class="k">state</span> <span class="n">NULLS</span> <span class="k">FIRST</span><span class="p">;</span>
</code></pre></div></div><ul><li>Ta sẽ được kết quả:</li></ul><p><img src="https://tuhalang.github.io/assets/images/select_null_distinct.png" alt="anh" /></p><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>Document Informations</h3><ul><li>Author:<a href="https://tuhalang.github.io" target="_blank">Tuhalang</a></li><li>Link:<a href="https://tuhalang.github.io/2020/06/02/Select-Distinct/" target="_blank">https://tuhalang.github.io/2020/06/02/Select-Distinct/</a></li><li>Copyright: <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">Creative Commons 3.0 License</a></li></ul></div></article><div class="share"><div class="share-component" data-disabled='qq,weibo,wechat,douban,qzone'></div></div><div class="comment"><div id="gitalk-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/2020/06/02/Select-Distinct/', clientID: 'ee780ad580c724383fc9', clientSecret: 'b27916ae861218d97f817647e98288467e8f1ed0', repo: 'blog-comments', owner: 'tuhalang', admin: ['tuhalang'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@built/assets/search_data.json?v=1660300235', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/js/jquery.toc.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-7093222719567591" data-ad-slot="2908164598"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div></div></section><footer class="container"> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7093222719567591" data-ad-slot="5263168187" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2022 <span title="Tuhalang">Tuhalang</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/tuhalang/tuhalang.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://tuhalang.github.io/" title="Home" target="">Home</a></li><li> <a href="https://tuhalang.github.io/categories/" title="Categories" target="">Categories</a></li><li> <a href="https://tuhalang.github.io/archives/" title="Archives" target="">Archives</a></li><li> <a href="https://tuhalang.github.io/wiki/" title="Wiki" target="">Wiki</a></li><li> <a href="https://tuhalang.github.io/about/" title="About" target="">About</a></li><li><a href="https://tuhalang.github.io/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/tuhalang/tuhalang.github.io@master/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
